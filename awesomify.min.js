/*
 * Awesomify - 1.2.7
 * Ben Meyrick - http://bameyrick.co.uk
 * 
 * Licensed under the MIT license.
 * http://www.opensource.org/licenses/mit-license.php
 */
(function(n){function v(){if(window.SpeedTest)SpeedTest.CheckSpeed(function(n){i=n;i<=250?(u=40,f=!1):i>250&&i<=450?(u=50,f=!1):i>450&&i<=750?(u=60,f=!1):i>750&&i<=1e3?(u=70,f=!1):i>1e3&&i<=4e3?(u=80,f=!0):i>4e3&&i<=1e4?(u=90,f=!0):i>1e4&&(u=99,f=!0)});else throw Error("SpeedTest not initalised. Awesomify cannot run without SpeedTest.");}function e(n){var u,o,f;if(i!==undefined){if(window.outerWidth>l||n)for(u=0,o=r.length;u<o;u++)if(f=r[u],!t.lazy||t.lazy&&y(f))c(f);else break}else setTimeout(function(){e()},100)}function c(n){var i,v,c,l,e,y,w,o,r,b,k,h;if(n){v=!1;n.tagName.toLowerCase()=="img"?(i=n.getAttribute("src"),i.length===0&&(i=n.getAttribute("data-src"))):(i=n.style.backgroundImage,i=i.length>0?i.replace("url(","").replace(")",""):n.getAttribute("data-src"),v=!0);i=i.split("?");r=p(i[1]);r.quality=u;i.length>0&&(y=n.offsetWidth,w=n.offsetHeight,e=y,l="width",c="height",o=i[0]+"?",y<w&&(l="height",c="width",e=w),a&&f&&(e=e*2),i[1]?i[1].indexOf("width")>=1&&i[1].indexOf("height")>=1?(b=s(e,t.sizesSquare),r.width=b,r.height=b):(r[l]=s(e,t.sizes),delete r[c]):(r[l]=s(e,t.sizes),delete r[c]));k=0;for(h in r)r.hasOwnProperty(h)&&h!="undefined"&&(k>0&&(o+="&"),o+=h+"="+r[h],k++);v?n.style.backgroundImage="url("+o+")":n.setAttribute("src",o)}}function y(n){for(var t=n.offsetTop,i=n.offsetLeft;n.offsetParent;)n=n.offsetParent,t+=n.offsetTop,i+=n.offsetLeft;return t<window.pageYOffset+window.innerHeight&&i<window.pageXOffset+window.innerWidth}function s(n,t){for(var i=null,r=0,u=t.length;r<u;r++)(i===null||Math.abs(t[r]-n)<Math.abs(i-n))&&(i=t[r]);return i}function p(n){for(var i={},t,u=/\+/g,f=/([^&=]+)=?([^&]*)/g,r=function(n){return decodeURIComponent(n.replace(u," "))};t=f.exec(n);)i[r(t[1]).toLowerCase()]=r(t[2]);return i}var t={lazy:!0,onResize:!0,cls:"awesomify",sizes:[240,320,500,640,768,960,1280,1366,1920,2560],sizesSquare:[40,60,80,120,160,320,640]},r,i,u,f,l=0,a=window.devicePixelRatio>1,o=!1,h;n.Options=function(){return t};n.Init=function(n){v();n&&(n.lazy&&(t.lazy=n.lazy),n.onResize&&(t.onResize=n.onResize),n.cls&&(t.cls=n.cls),n.sizes&&(t.sizes=n.sizes),n.sizesSquare&&(t.sizesSquare=n.sizesSquare));r=document.querySelectorAll("."+t.cls);t.onResize&&h(window,"resize",function(){o!==!1&&clearTimeout(o);o=setTimeout(function(){e()},200)});t.lazy&&h(window,"scroll",function(){e(!0)});e()};n.FindNew=function(){r=document.querySelectorAll("."+t.cls);e()};n.Me=function(n){Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(n);c(n)};h=function(n,t,i){n!==null&&typeof n!="undefined"&&(n.addEventListener?n.addEventListener(t,i,!1):n.attachEvent?n.attachEvent("on"+t,i):n["on"+t]=i)}})(window.Awesomify=window.Awesomify||{});