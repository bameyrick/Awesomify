/*
 * Awesomify - 1.1.0
 * Ben Meyrick - http://bameyrick.co.uk
 * 
 * Licensed under the MIT license.
 * http://www.opensource.org/licenses/mit-license.php
 */
(function(n){function c(){if(window.SpeedTest)SpeedTest.CheckSpeed(function(n){var t=36e4;i=n;i<=250?(r=40,u=!1):i>250&&i<=450?(r=50,u=!1,t=18e4):i>450&&i<=750?(r=60,u=!1,t=12e4):i>750&&i<=1e3?(r=70,u=!1,t=6e4):i>1e3&&i<=4e3?(r=80,u=!0,t=3e4):i>4e3&&i<=1e4?(r=15e3,u=!0):i>1e4&&(r=99,u=!0,t=1e4,n);setTimeout(function(){c()},t)});else throw Error("SpeedTest not initalised. Awesomify cannot run without SpeedTest.");}function f(n){var r,u,o;if(i!=undefined){if(window.outerWidth>h||n)for(h=window.outerWidth,r=0,u=e.length;r<u;r++)o=e[r],t.lazy&&v(o)||!t.lazy?l(o):r=u+1}else setTimeout(function(){f()},100)}function l(n){var i,s,e,c;if(n&&(s=!1,n.tagName.toLowerCase()=="img"?(i=n.getAttribute("src"),i=i.length>0?i.split("quality"):n.getAttribute("data-src").split("quality")):(i=n.style.backgroundImage,i=i.length>0?i.replace("url(","").replace(")","").split("quality"):n.getAttribute("data-src").split("quality"),s=!0),i.length>0)){var l=n.offsetWidth,v=n.offsetHeight,f=l,h="width";l<v&&(h="height",f=v);a&&u&&(f=f*2);e=i[0]+"quality="+r;i[1]?i[1].indexOf("width")>=1&&i[1].indexOf("height")>=1?(c=o(f,t.sizesSquare),e+="&width="+c+"&height="+c):e+="&"+h+"="+o(f,t.sizes):e+="&"+h+"="+o(f,t.sizes);s?n.style.backgroundImage="url("+e+")":n.setAttribute("src",e)}}function v(n){for(var t=n.offsetTop,i=n.offsetLeft;n.offsetParent;)n=n.offsetParent,t+=n.offsetTop,i+=n.offsetLeft;return t<window.pageYOffset+window.innerHeight&&i<window.pageXOffset+window.innerWidth}function o(n,t){for(var i=null,r=0,u=t.length;r<u;r++)(i==null||Math.abs(t[r]-n)<Math.abs(i-n))&&(i=t[r]);return i}var t={lazy:!0,onResize:!0,cls:"awesomify",sizes:[240,320,500,640,768,960,1280,1366,1920,2560],sizesSquare:[40,60,80,120,160,320,640]},e,i,r,u,h=0,a=window.devicePixelRatio>1,s;n.Options=function(){return t};n.Init=function(n){c();n&&(n.lazy&&(t.lazy=n.lazy),n.onResize&&(t.onResize=n.onResize),n.cls&&(t.cls=n.cls),n.sizes&&(t.sizes=n.sizes),n.sizesSquare&&(t.sizesSquare=n.sizesSquare));e=document.querySelectorAll("."+t.cls);t.onResize&&s(window,"resize",f);t.lazy&&s(window,"scroll",function(){f(!0)});f()};n.FindNew=function(){e=document.querySelectorAll("."+t.cls);f()};n.Me=function(n){l(n)};s=function(n,t,i){n!=null&&typeof n!="undefined"&&(n.addEventListener?n.addEventListener(t,i,!1):n.attachEvent?n.attachEvent("on"+t,i):n["on"+t]=i)};typeof String.prototype.contains=="undefined"&&(String.prototype.contains=function(n){return this.indexOf(n)!=-1})})(window.Awesomify=window.Awesomify||{});